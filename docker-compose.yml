version: '3.9'

services:
  pihole-dns-sync:
    image: ghcr.io/dangerzau/pihole-dns-sync:latest
    build: .
    container_name: pihole-dns-sync
    restart: unless-stopped
    environment:
      - PIHOLE_URL=http://192.168.1.10
      - PIHOLE_TOKEN=your_pihole_token_here
      - TRAEFIK_WATCH=true
      - TARGET=192.168.1.100
      - DRY_RUN=false
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - 8000:8000
